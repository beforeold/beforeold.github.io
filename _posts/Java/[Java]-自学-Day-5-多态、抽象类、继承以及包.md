#### 转型
向上转型，将子类的对象赋值给父类的引用
```Java
class Student extends Person { ... }

Student s1 = new Student();
Person p1 = s1; // 是子类，自然满足父类条件，可以声明为父类的引用
```


![向上转型](http://upload-images.jianshu.io/upload_images/73339-9632b0b7802471ff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


不需要拘泥于概念，思考子类同时具备父类的特点，所以直接赋值给一个 Person 引用，是现实意义上是共通的。

此外，虽然引用类型变量，但是仍旧是引用同一个对象，
- s1  -> studentObj
- p1 -> studentObj
引用的类型，
- Student/Person 决定的是：可以调用的方法和成员变量，
- 从实现的角度来看，调用的具体的实现由对象本身决定。也就是说，实际执行的是 Student 所复写父类的 introduce() 的方法实现，而不是父类的 Person 的 introduce()，这个特性就是**多态**的表现。

#### 学习编程遇到困难时的重要思路
-> 不懂就直接略过去，以后还会再遇到很多次的，你最终会学会。

#### 向下转型
将父类的对象赋值给子类的引用，一次类型的强制转换。
显然父类对象不能轻易地赋值给子类引用，因为父类对象没有子类的方法或者成员变量，编译层面上可以通过的，但是运行时层面，如果利用错误的向下转型会在运行时直接抛出异常，提示不能进行此次强制转换。


![向下转型](http://upload-images.jianshu.io/upload_images/73339-b355e127a88b719a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


这一点比起 OC 来更为严苛，OC 会在调用方法时抛出异常（ unkown selector），Java 则是在强转时抛出异常。

正确的向下转型是
- 先生成子类对象
- 将其向上转型为一个父类引用
- 将父类引用强制转型为子类引用。

#### 再再次：减少重复代码
-> 根据实际业务可以采取继承的
使用 Printer 的子类 HPPrinter、CanonPrinter 为例子。


#### 抽象类、抽象函数
面向对象思维之一：先抽象，再具体。
抽象的好处具备被扩展后足够的灵活性。

抽象函数：只有定义，没有实现函数体。

```Java
abstract void func();
```
抽象类：（不能实例化的类）
- 有抽象函数的类，必须声明为抽象类。
- 没有抽象函数也可以声明为抽象类
- 抽象类不能生成对象

```Java
abstract class Person { ... }
```

抽象类的继承
- 抽象类就是用来被继承的，
- 子类会继承其中的抽象方法，那么要么复写 override 父类的抽象方法，要么声明为抽象类，
> 联想到 Casa 的 RTNetworking 的实现，OC 要实现这个功能，可以将抽象函数声明为协议方法，并且持有一个 child 属性，要求 child 遵循此 child 协议。

#### 抽象类构造函数的特点
如果不希望被实例化，可以声明为抽象类，即便没有抽象函数
抽象类虽然不能实例化，但是可以有构造函数，便于抽象类对其成员变量进行必要的初始化，子类可在其构造函数调用 super 构造函数。
所以说，不能实例化 **不等于** 没有构造函数。


#### 为什么要使用抽象类
抽象类表达的是一种概念，还不是一种具体的实际的一个类，用于抽象一些共同特性类的功能和成员变量，因为一些方法没有具体的方法体，此时使用抽象类来表述。
如果不使用抽象类，那么一种折中方案是使用空实现。

```Java
// 抽象函数
abstract void func();
用空实现代替抽象函数
void func() {
  // 空实现
}
```

但如此以来，子类就失去了需要实现抽象函数的提示，而导致功能缺失，这就是抽象类的必要性之一。
由此可见，抽象函数就是定义用于子类进行复写。


#### 一种语法的观点
如果代码在语义上是错误的，那么在语法上也应该是错误的。
比如函数的空实现，在语义上就是不可理解的。保证健壮性。
语义难以检测，语法容易检测。


#### 为什么要使用“包” package
- 避免名字（类名等）冲突
类似于命名空间 或者 Swift 中的 module 概念

```
package MyPackage
public class Test {
}
```
编译包内的类，使用命令 ```javac -d . Test.java```，用空格分隔了三个参数：
- 其中 '-d' 是参数，含义是根据包名生成文件夹
- '.'是命令桉树， 是当前文件夹

打包后，一个类的名字发生了变化，类的全名是“包名.类名”，MyPackage.Test。

通过包名来做好唯一性，有合适的规范很重要：
- 全部小写
- 包名是网站域名倒过来写 com.jianshu.beforeold.xxxx

带有 '.' 的包名生成的文件夹，是按照点来做文件夹层级的。

执行 class 的命令 ```java com.jianshu.beforeold.xxx.Test```

（包的使用下文再续）
